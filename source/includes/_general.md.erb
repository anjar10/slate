# General
## Get Bank Detail
```http
GET /general/banks HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer [USER_TOKEN]
api-key: [API_KEY]
```

This endpoint will return list of bank codes, along with several other information. We recommend you to hit this endpoint before creating a disbursement so that you can give information like `queue` or `status` to your user or customer.

### Request
`GET <%= config[:base_url] %>/general/banks?code={BANK_CODE}`

<aside class="notice">You can also provide an optional bank code to filter the result to a specific bank only</aside>

```php
<?php
    $ch = curl_init();
    $user_token = '[USER_TOKEN]';
    $api_key = '[API_KEY]';

    curl_setopt($ch, CURLOPT_URL, "<%= config[:base_url] %>/general/banks");
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(
      'Content-Type: application/x-www-form-urlencoded',
      'Authorization: Bearer ' . $user_token,
      'api-key:' . $api_key));
    ));

    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
    curl_setopt($ch, CURLOPT_HEADER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);

    $response = curl_exec($ch);
    curl_close($ch);

    var_dump($response);
```

```shell
curl <%= config[:base_url] %>/general/banks \
    -H "Authorization: Bearer [USER_TOKEN]" \
    -H "api-key: [API_KEY]"
```

**Parameters**

Parameter | Type | Description
--------- | ----------- | -----------
`bank_code` | *string* | **`optional`**<br>Bank code to filter the result to a specific bank only

### Response

> All bank details (without filter by `bank_code`)

```json
Status 200
Content-Type: application/json

[
    {
        "bank_code": "mandiri",
        "name": "Mandiri",
        "fee": 0,
        "queue": 11,
        "status": "OPERATIONAL",
        "account_number": "1570004913456",
        "account_name": "Fliptech Lentera Inspirasi Pertiwi "
    },
    {
        "bank_code": "bri",
        "name": "BRI",
        "fee": 0,
        "queue": 10,
        "status": "OPERATIONAL",
        "account_number": "067201000299301",
        "account_name": "PT Fliptech Lentera Inspirasi Pertiwi"
    },
    {
        "bank_code": "bni",
        "name": "BNI / BNI Syariah",
        "fee": 0,
        "queue": 4,
        "status": "OPERATIONAL",
        "account_number": "0437051936",
        "account_name": "PT Fliptech Lentera Inspirasi Pertiwi "
    },
    {
        "bank_code": "bca",
        "name": "BCA",
        "fee": 0,
        "queue": 10,
        "status": "OPERATIONAL",
        "account_number": "5465327020",
        "account_name": "PT Fliptech Lentera IP"
    },
    {
        "bank_code": "bsm",
        "name": "Bank Syariah Mandiri",
        "fee": 0,
        "queue": 1,
        "status": "DISTURBED",
        "account_number": "7097251465",
        "account_name": "PT FLIP"
    },
    {
        "bank_code": "cimb",
        "name": "CIMB Niaga",
        "fee": 0,
        "queue": 105,
        "status": "OPERATIONAL",
        "account_number": "860004047100",
        "account_name": "FLIPTECH LENTERA INSPIRASI PERTIWI"
    },
    {
        "bank_code": "muamalat",
        "name": "Muamalat",
        "fee": 0,
        "queue": 9,
        "status": "OPERATIONAL",
        "account_number": "3070030364",
        "account_name": "FLIPTECH LENTERA INSPIRASI PERTIWI, PT"
    },
    {
        "bank_code": "tabungan_pensiunan_nasional",
        "name": "BTPN / Jenius / BTPN Wow!",
        "fee": 0,
        "queue": 1,
        "status": "OPERATIONAL",
        "account_number": "05373001289",
        "account_name": "Fliptech Lentera Inspirasi Pertiwi"
    }
    ...
]
```

> Filtered result:

```json
Status 200
Content-Type: application/json

[
    {
        "bank_code": "bca",
        "name": "BCA",
        "fee": 3500,
        "queue": 8,
        "status": "OPERATIONAL",
        "account_number": "5465327020",
        "account_name": "PT Fliptech Lentera IP"
    }
]
```

Attribute | Description
----------|------------
bank_code | Flip's bank code. `bni` is the code for both BNI and BNI Syariah, and `cimb` is the code for both CIMB Niaga and CIMB Niaga Syariah
name | The name of the bank as we usually say it in Indonesian
fee | The fee that you'll be charged if you send money to this bank
queue | Current queue for related bank. The longer/higher the queue number, the longer the transaction will be finished.
status | The status of the disbursement process in related bank. Possible values are: <br><ul><li>`OPERATIONAL`<br>Banks are operational, disbursement will be processed as soon as possible</li><li>`DISTURBED`<br>Banks are slow or have another problem. Disbursement will still be processed, but in slower pace and might be delayed</li><li>`HEAVILY_DISTURBED`<br>Banks are having an error, offline, or another problem that result in a nearly unusable system. Disbursement to this bank can not be processed in a short time, and maybe won't be processed in the same day. You can ask for a refund if this happen.</li></ul>
account_number | Flip's account number
account_name | Flip's account name

## Get Operational Status
This endpoint will return information whether Flip currently is operational or not. Our operational hour is **09.00-19.00 (WIB/GMT+7) on Monday-Friday**, and **09.00-14.00 (WIB/GMT+7) on Saturday**. Currently we are not operational on Sunday. All transactions made outside those hour will be processed on the next operational hour.

### Request
`GET <%= config[:base_url] %>/general/operational`

```http
GET /general/operational HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer [USER_TOKEN]
api-key: [API_KEY]
```

>Example Command:

```php
<?php
    $ch = curl_init();
    $user_token = '[USER_TOKEN]';
    $api_key = '[API_KEY]';

    curl_setopt($ch, CURLOPT_URL, "<%= config[:base_url] %>/general/operational");
    curl_setopt($ch, CURLOPT_HTTPHEADER,
                     array('Content-Type: application/x-www-form-urlencoded',
                           'Authorization: Bearer ' . $user_token,
                           'api-key:' . $api_key));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
    curl_setopt($ch, CURLOPT_HEADER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);

    $response = curl_exec($ch);
    curl_close($ch);

    var_dump($response);
```

```shell
curl "<%= config[:base_url] %>/general/operational" \
  -H "Authorization: Bearer [USER_TOKEN]" \
  -H "api-key: [API_KEY]"
```

### Response
The above request returns JSON structured like this:

Attribute | Description
----------|-------------
operational_status | Operational status of Flip's system

```json
Status 200
Content-Type: application/json

{
    "operational_status": true
}
```

## Get Maintenance Status
This endpoint will return information whether Flip currently is on maintenance or not. When Flip is on maintenance, you can't do any request except to this endpoint. Any request to other endpoint will return `401` status code

### Request
`GET <%= config[:base_url] %>/general/maintenance`

```http
GET /general/maintenance HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer [USER_TOKEN]
api-key: [API_KEY]
```

>Example Command:

```php
<?php
    $ch = curl_init();
    $user_token = '[USER_TOKEN]';
    $api_key = '[API_KEY]';

    curl_setopt($ch, CURLOPT_URL, "<%= config[:base_url] %>/general/maintenance");
    curl_setopt($ch, CURLOPT_HTTPHEADER,
                     array('Content-Type: application/x-www-form-urlencoded',
                           'Authorization: Bearer ' . $user_token,
                           'api-key:' . $api_key));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
    curl_setopt($ch, CURLOPT_HEADER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);

    $response = curl_exec($ch);
    curl_close($ch);
```

```shell
curl "<%= config[:base_url] %>/general/maintenance" \
  -H "Authorization: Bearer [USER_TOKEN]" \
  -H "api-key: [API_KEY]"
```

### Response
The above request returns JSON structured like this:

Attribute | Description
----------|-------------
maintenance_status | Maintenance status of Flip's system

```json
Status 200
Content-Type: application/json

{
    "maintenance_status": false
}
```

## Get City List
This endpoint will return the list of available city code along with itâ€™s name. The city name will be in Indonesian.

### Request
`GET <%= config[:base_url] %>/general/city-list`

```http
GET /general/city-list HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer [USER_TOKEN]
api-key: [API_KEY]
```

>Example Command:

```php
<?php
    $ch = curl_init();
    $user_token = '[USER_TOKEN]';
    $api_key = '[API_KEY]';

    curl_setopt($ch, CURLOPT_URL, "<%= config[:base_url] %>/general/city-list");
    curl_setopt($ch, CURLOPT_HTTPHEADER,
                     array('Content-Type: application/x-www-form-urlencoded',
                           'Authorization: Bearer ' . $user_token,
                           'api-key:' . $api_key));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
    curl_setopt($ch, CURLOPT_HEADER, FALSE);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);

    $response = curl_exec($ch);
    curl_close($ch);
```

```shell
curl "<%= config[:base_url] %>/general/city-list" \
  -H "Authorization: Bearer [USER_TOKEN]" \
  -H "api-key: [API_KEY]"
```

### Response
The above request returns JSON structured like this:

`city_code` as a key and `city_name` as a value.

```json
{
  "102": "Kab. Bekasi",
  "103": "Kab. Purwakarta",
  "106": "Kab. Karawang",
  "108": "Kab. Bogor",
  "109": "Kab. Sukabumi",
  "110": "Kab. Cianjur",
  "111": "Kab. Bandung",
  "112": "Kab. Sumedang",
  "113": "Kab. Tasikmalaya",
  "114": "Kab. Garut",
  "115": "Kab. Ciamis",
  "116": "Kab. Cirebon",
  "117": "Kab. Kuningan",
  "118": "Kab. Indramayu",
  "119": "Kab. Majalengka"
}
```